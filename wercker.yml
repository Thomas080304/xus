box:
    id: tetsuo/electron-ready:4

build:
  steps:
    - script:
        name: install dependencies
        code: |
            export YARN_CACHE=$WERCKER_CACHE_DIR/yarn
            export NODE_ENV=development
            HOME=$YARN_CACHE yarn
    - script:
        name: build
        code: |
            npm run build
    - script:
        name: test
        code: |
            npm run test

build-docs:
  steps:
    - script:
        name: docs
        code: |
            npm run docs

deploy-docs:
  steps:
    - install-packages:
        packages: git ssh-client
    - lukevivier/gh-pages@0.2.1:
        token: $GIT_TOKEN
        basedir: dist
